<include file="head"/>
<import file="rolemenu.js" check="true"/>
<style type="text/css">
	.select_icons{width:405px;height:25px;padding:2px 0 2px 2px;background:#395f76;}
	.select_icons img{width:23px;margin:0 2px 0 0;cursor:pointer;border:1px solid #395f76;}
	.select_icons .selected_icon{border:1px solid #ff0;}
</style>
<script type="text/javascript">
 $(function(){ 	
  /*待添加或修改内容有改变则刷新*/
		$("input,textarea,select").change(function(){top.win.fresh=-1;});
 });
</script>
</head>
<body>
	<form name="myform" id="myform" action="{act_url('rolemenu','add','roleid='.$this->roleid)}" method="post">
		<div class="common-form">
			  <table width="100%" class="table_form contentWrap">
		      <tr>
		        <th width="200">上级菜单：</th>
		        <td>
			         <select name="info[pid]" >
			         	  <option value="0">作为一级菜单</option>
			         	  <foreach name="$select_categorys" item="$v" >
			         	    <option value="{$v['id']}" {($v['id']==$_GET['pid']?'selected="selected"':'')}>{$v['spacer']} {$v['name']}</option>
					        </foreach>
			         </select>
		        </td>
		      </tr>
		      <tr id="show_menu">
		        <th > 菜单名称：</th>
		        <td style="height:30px;">
		        	<input type="text" name="info[name]" id="name" class="input-text" >
		        </td>
		      </tr>
		      <tr id="select_menu" style="display:none">
		        <th > 菜单名称：</th>
		        <td style="height:30px;">
		        	<select id="usableMenus">
		        		  <option value="" selected="selected">选择可用菜单</option>
					        <foreach name="$usable_menus" item="$vl" >
					        <option value="{$vl['name']}" c="{$vl['c']}" a="{$vl['a']}" data="{$vl['data']}" >
					        	{$vl['spacer']} 
					        	{($vl['isused']?'◆':'◇')}
					        	{$vl['name']}
					        </option>
					        </foreach>
			        </select>
			        <input type="button" id="returnModify" class="button" style="padding:2px 0px;width:60px;position:relative;top:2px;" value="返回修改" />
		        </td>
		      </tr>
					<tr id="menu_type">
				        <th> 类别：</th>
				        <td>
				        	<span>自定义菜单<input type="radio" checked="checked" name="info[type]" value="0" /></span>　
				        	<span title="点击选择可用菜单">内部菜单<input type="radio" name="info[type]" value="1" /></span>　
				        	<span>外部链接<input type="radio" name="info[type]" value="2" /></span>
				        </td>
				  </tr>
					<tr id="cadata">
						  <th> 配置：</th>
				      <td>
				        类名 <input type="text" name="info[c]" id="c" style="width:80px;" class="input-text" />
				        方法名 <input type="text" name="info[a]" id="a" style="width:80px;" class="input-text" />
				        参数 <input type="text" name="info[data]" id="data" style="width:80px;" class="input-text" />
				      </td>
				  </tr>
				  <tr id="url" style="display:none">
						  <th> 地址：</th>
				      <td>
				        <input type="text" name="info[url]" id="url" style="width:300px;" class="input-text" />
				      </td>
				  </tr>
				  <tr>
				        <th>显示图标：</th>
				        <td>
				        	 <div  class="select_icons">
						        	<input type="hidden" name="info[icon]" class="input-text" >
						        	<foreach name="$icons" item="$cIcon" >
						          <img src="{import('icon/'.$cIcon)}" />
						          </foreach>
				           </div>
				        </td>
				  </tr>
					<tr>
				        <th>是否显示菜单：</th>
				        <td><input type="radio" name="info[display]" value="1" checked="checked"> 是<input type="radio" name="info[display]" value="0"> 否</td>
				      </tr>
				</table>
		<!--table_form_off-->
		</div>
	</form>
</body>
</html>
